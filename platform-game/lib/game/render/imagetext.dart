part of game;

class ImageText {
  Map<String, int> letterWidth = {
    " ": 5,
    "?": 5,
    "%": 9,
    "a": 5,
    "b": 5,
    "c": 4,
    "d": 5,
    "e": 5,
    "f": 4,
    "g": 5,
    "h": 5,
    "i": 1,
    "j": 2,
    "k": 5,
    "l": 1,
    "m": 9,
    "n": 5,
    "o": 5,
    "p": 5,
    "q": 5,
    "r": 3,
    "s": 5,
    "t": 3,
    "u": 5,
    "v": 5,
    "w": 9,
    "x": 5,
    "y": 5,
    "z": 5,
    "A": 7,
    "B": 6,
    "C": 7,
    "D": 7,
    "E": 6,
    "F": 5,
    "G": 7,
    "H": 7,
    "I": 1,
    "J": 5,
    "K": 7,
    "L": 6,
    "M": 7,
    "N": 7,
    "O": 7,
    "P": 6,
    "Q": 7,
    "R": 7,
    "S": 6,
    "T": 7,
    "U": 7,
    "V": 7,
    "W": 11,
    "X": 7,
    "Y": 7,
    "Z": 7,
    "0": 5,
    "1": 3,
    "2": 5,
    "3": 5,
    "4": 5,
    "5": 5,
    "6": 5,
    "7": 5,
    "8": 5,
    "9": 5,
  };
  Map<String, int> letterStartX = {
    "?": 0,
    "%": 6,
    "a": 0,
    "b": 6,
    "c": 12,
    "d": 17,
    "e": 23,
    "f": 29,
    "g": 34,
    "h": 40,
    "i": 46,
    "j": 48,
    "k": 51,
    "l": 57,
    "m": 59,
    "n": 69,
    "o": 75,
    "p": 81,
    "q": 87,
    "r": 93,
    "s": 97,
    "t": 103,
    "u": 107,
    "v": 113,
    "w": 119,
    "x": 129,
    "y": 135,
    "z": 141,
    "A": 0,
    "B": 8,
    "C": 15,
    "D": 23,
    "E": 31,
    "F": 38,
    "G": 44,
    "H": 52,
    "I": 60,
    "J": 62,
    "K": 68,
    "L": 76,
    "M": 83,
    "N": 91,
    "O": 99,
    "P": 107,
    "Q": 114,
    "R": 122,
    "S": 130,
    "T": 137,
    "U": 145,
    "V": 153,
    "W": 161,
    "X": 173,
    "Y": 181,
    "Z": 189,
    "0": 0,
    "1": 6,
    "2": 10,
    "3": 16,
    "4": 22,
    "5": 28,
    "6": 34,
    "7": 40,
    "8": 46,
    "9": 52,
  };
  Map<String, int> letterStartY = {
    "?": 0,
    "%": 0,
    "a": 12,
    "b": 12,
    "c": 12,
    "d": 12,
    "e": 12,
    "f": 12,
    "g": 12,
    "h": 12,
    "i": 12,
    "j": 12,
    "k": 12,
    "l": 12,
    "m": 12,
    "n": 12,
    "o": 12,
    "p": 12,
    "q": 12,
    "r": 12,
    "s": 12,
    "t": 12,
    "u": 12,
    "v": 12,
    "w": 12,
    "x": 12,
    "y": 12,
    "z": 12,
    "A": 24,
    "B": 24,
    "C": 24,
    "D": 24,
    "E": 24,
    "F": 24,
    "G": 24,
    "H": 24,
    "I": 24,
    "J": 24,
    "K": 24,
    "L": 24,
    "M": 24,
    "N": 24,
    "O": 24,
    "P": 24,
    "Q": 24,
    "R": 24,
    "S": 24,
    "T": 24,
    "U": 24,
    "V": 24,
    "W": 24,
    "X": 24,
    "Y": 24,
    "Z": 24,
    "0": 36,
    "1": 36,
    "2": 36,
    "3": 36,
    "4": 36,
    "5": 36,
    "6": 36,
    "7": 36,
    "8": 36,
    "9": 36,
  };
  int letterh = 11;

  RenderLayer img_text;

  ImageText(this.img_text);

  int getTextWidth(String text) {
    int len = 0;
    for (String l in text.split("")) len += letterWidth[l] + 1;
    return len - 1;
  }

  void drawText(DrawableRenderLayer target, String text, int startx, int starty) {
    int currentx = startx;
    for (String l in text.split("")) {
      if (l != " ") target.drawLayerPart(img_text, currentx, starty, letterStartX[l], letterStartY[l], letterWidth[l], letterh);
      currentx += letterWidth[l] + 1;
    }
  }
}
